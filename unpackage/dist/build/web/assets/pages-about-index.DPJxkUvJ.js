import{X as e,K as n,r as t,f as a,w as o,s as l,o as s,g as d,R as c,S as i,j as r}from"./index-B5A9CWaN.js";import{c as p,d as u,_ as g,r as f,e as m,f as h}from"./request.CDfHE6nl.js";const b=u.nodeApiUrl;const _=g({data:()=>({webUrl:u.appInfo.web_url,apkUrl:u.appInfo.apk_url,version:u.appInfo.version,pageLoading:!1}),props:{src:{type:[String],default:null}},methods:{handleCheckVersion(){const t=this;var a;t.pageLoading=!0,(a=t.version,p({url:`${b}/checkVersion`,method:"get",data:{version:a}})).then((a=>{a?(t.pageLoading=!1,e({title:"提示",content:"检查到新版本,是否确定下载更新",success:function(e){e.confirm&&plus.runtime.openURL(t.apkUrl,(function(e){console.log(e)}))}})):(t.pageLoading=!1,n({title:"当前已经是最新版本",icon:"none"}))}))},handleWeb(){!function({content:e,success:n,error:t}){if(!e)return t("复制的内容不能为空 !");e="string"==typeof e?e:e.toString(),document.queryCommandSupported("copy")||t("浏览器不支持");let a=document.createElement("textarea");a.value=e,a.readOnly="readOnly",document.body.appendChild(a),a.select(),a.setSelectionRange(0,e.length),document.execCommand("copy")?n("复制成功~"):t("复制失败，请检查h5中调用该方法的方式，是不是用户点击的方式调用的，如果不是请改为用户点击的方式触发该方法，因为h5中安全性，不能js直接调用！"),a.remove()}({content:`${this.webUrl}`,success:e=>{n({title:"已复制链接,请使用浏览器访问~",icon:"none"})},error:e=>{n({title:e,icon:"none",duration:3e3})}})},async handleApp(){this.pageLoading=!0,await this.downloadFile(this.apkUrl,"oil.apk"),this.pageLoading=!1},async downloadFile(e,n){const t=document.createElement("a");t.href=e,t.setAttribute("download",n),document.body.appendChild(t),t.click(),document.body.removeChild(t)}},created(){},onLoad(){}},[["render",function(e,n,p,u,g,b){const _=f(t("up-loading-page"),m),y=l,k=f(t("up-button"),h);return s(),a(y,{class:"main"},{default:o((()=>[d(_,{loading:1==g.pageLoading,"loading-text":"拼命加载中..."},null,8,["loading"]),c(d(y,null,{default:o((()=>[d(y,{class:"content"},{default:o((()=>[d(y,{class:"content-title"},{default:o((()=>[r("说明")])),_:1}),d(y,{class:"desc"},{default:o((()=>[r("程序所有数据均来自互联网,程序不保存任何数据,该程序仅用于学习测试。")])),_:1})])),_:1}),d(y,{class:"content"},{default:o((()=>[d(y,{class:"content-title"},{default:o((()=>[r("APP下载")])),_:1}),d(y,null,{default:o((()=>[d(k,{text:"点击下载",color:"linear-gradient(to right, #eea2a2 0%, #bbc1bf 19%, #57c6e1 42%, #b49fda 79%, #7ac5d8 100%)",onClick:b.handleApp},null,8,["onClick"])])),_:1})])),_:1})])),_:1},512),[[i,0==g.pageLoading]])])),_:1})}],["__scopeId","data-v-bb4cb494"]]);export{_ as default};
